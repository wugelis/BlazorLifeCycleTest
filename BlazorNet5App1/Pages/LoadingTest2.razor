@page "/loadingtest2"

<h3>LoadingTest2</h3>

<p>
    <button class="btn btn-primary" @onclick="GetImage">取得圖片</button>
</p>

<LoadingContainer State="@state">
    <None>
        <div class="image-container">
        </div>
    </None>
    <Loading>
        <div class="image-container">
            <div class="lds-roller"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
        </div>
    </Loading>
    <Loaded>
        <div class="image-container">
            <img src="https://i.imgur.com/KmMOg0i.png" />
        </div>
</Loaded>
</LoadingContainer>

@code {

    PageLoadingState state;

    protected override async Task OnInitializedAsync()
    {
        state = PageLoadingState.None;
        //await GetImage();
    }

    async Task GetImage()
    {
        state = PageLoadingState.Loading;

        await Task.Delay(1000);

        state = PageLoadingState.Loaded;
    }
}
